import telebot 
from config import API
from logic_ai import get_class

bot = telebot.TeleBot(API)

@bot.message_handler(content_types=['photo'])

def get_photo(message):
    file_info = bot.get_file(message.photo[-1].file_id)
    file_name = file_info.file_path.split('/')[-1]
    downloaded_file = bot.download_file(file_info.file_path)
    with open(file_name, 'wb') as new_file:
        new_file.write(downloaded_file)
    class_name, score = get_class(file_name)
    if class_name == "Zeekr" and score > 0.7:
        bot.reply_to(message, "–≠—Ç–æ Zeekr ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∏—Ç–∞–π—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ Zhejiang Geely Holding Group, –∞ —Ç–∞–∫–∂–µ –æ–¥–Ω–æ–∏–º—ë–Ω–Ω–∞—è —Å–µ—Ä–∏—è —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π –∏ –ø–æ–¥–∑–∞—Ä—è–∂–∞–µ–º—ã—Ö –≥–∏–±—Ä–∏–¥–æ–≤.")
    if class_name == "BYD" and score > 0.7:
        bot.reply_to(message, "–≠—Ç–æ BYD ‚Äî –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ñ—Ä–∞–∑—ã Build Your Dreams (¬´–ø–æ—Å—Ç—Ä–æ–π —Å–≤–æ–∏ –º–µ—á—Ç—ã¬ª). –¢–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∏—Ç–∞–π—Å–∫–∏–π –∫–æ–Ω–≥–ª–æ–º–µ—Ä–∞—Ç, –≤–∫–ª—é—á–∞—é—â–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π BYD Auto –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ BYD Electronic. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –Ω–æ –≤ 2003 –≥–æ–¥—É –≤—ã—à–ª–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π —Ä—ã–Ω–æ–∫.")
    if class_name == "Xiaomi" and score > 0.7:
        bot.reply_to(message, "–≠—Ç–æ Xiaomi ‚Äî –∫–æ–º–ø–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã, —Å–º–∞—Ä—Ç-—á–∞—Å—ã, —ç–ª–µ–∫—Ç—Ä–æ—Å–∞–º–æ–∫–∞—Ç—ã, –ø–ª–∞–Ω—à–µ—Ç—ã, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä—ã –∏ ¬´—É–º–Ω—É—é¬ª –±—ã—Ç–æ–≤—É—é —Ç–µ—Ö–Ω–∏–∫—É. Xiaomi Auto ‚Äî –∫–∏—Ç–∞–π—Å–∫–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π, –¥–æ—á–µ—Ä–Ω—è—è –∫–æ–º–ø–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ Xiaomi. –®—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ü–µ–∫–∏–Ω–µ. –ö–æ–º–ø–∞–Ω–∏—è –±—ã–ª–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –≤ 2021 –≥–æ–¥—É. –ü–µ—Ä–≤—ã–º –ø—Ä–æ–¥—É–∫—Ç–æ–º —Å—Ç–∞–ª —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª—å Xiaomi SU7, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç—É–ø–∏–ª –≤ –ø—Ä–æ–¥–∞–∂—É –≤–µ—Å–Ω–æ–π 2024 –≥–æ–¥–∞. –í –∏—é–ª–µ 2024 –≥–æ–¥–∞ Xiaomi Auto –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–ª—É—á–∏–ª–∞ –æ—Ç –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —Å—Ç–∞—Ç—É—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –∞–≤—Ç–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è.")
    if class_name == "NIO" and score > 0.7:
        bot.reply_to(message, "–≠—Ç–æ NIO (New Energy Vehicle Innovative Company) ‚Äî –∫–∏—Ç–∞–π—Å–∫–∞—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π. –ù–∞–∑–≤–∞–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´Blue Sky Coming¬ª (¬´–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –≥–æ–ª—É–±–æ–≥–æ –Ω–µ–±–∞¬ª). NIO —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –ø—Ä–æ–¥–∞—ë—Ç —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–∏, –≤–∫–ª—é—á–∞—è —Å–µ–¥–∞–Ω—ã –∏ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏. –ö–æ–º–ø–∞–Ω–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –≤ –Ω–æ—è–±—Ä–µ 2014 –≥–æ–¥–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º NextEV –£–∏–ª—å—è–º–æ–º –õ–∏ (–õ–∏ –ë–∏–Ω–æ–º). –ü–µ—Ä–≤—ã–π —Å–µ—Ä–∏–π–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å ‚Äî —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–∫–∞—Ä NIO EP9 ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –Ω–æ—è–±—Ä–µ 2016 –≥–æ–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –Ω–æ–≤—ã–º –±—Ä–µ–Ω–¥–æ–º NIO, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–∂–µ —Å—Ç–∞–ª –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤—Å–µ–π –∫–æ–º–ø–∞–Ω–∏–∏. –ú–∞—Å—Å–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π –Ω–∞—á–∞–ª–æ—Å—å –ª–µ—Ç–æ–º 2018 –≥–æ–¥–∞, –ø–µ—Ä–≤–æ–π –º–æ–¥–µ–ª—å—é —Å—Ç–∞–ª –±–æ–ª—å—à–æ–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä ES8.")
    else:
        bot.reply_to(message, "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –º–∞—Ä–∫—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è, –ø—Ä–∏–Ω–æ—Å–∏–º —Å–≤–æ–∏ –∏–∑–≤–∏–Ω–µ–Ω–∏—è üòî")

bot.polling()